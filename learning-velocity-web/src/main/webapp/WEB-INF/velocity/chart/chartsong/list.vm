#set($chartType = "$!Escape.url($!{command.chart_type})")
#set($genreCd= "$!Escape.url($!{command.genre_cd})")
#set($dateKey = "$!Escape.url($!{command.date_key})")
#set($date = "$!Escape.url($!{command.date})")
## 실시간 데이터일때 9시~10시 데이터이면 09로 내려오는걸 10으로 노출되게 수정
#if($StringUtils.equals("4", "$dateKey")) #set($dateView = "$!{CheckDate.getDiffHour($date,1)}")
#else #set($dateView = $date) #end
#set($pageNo = "$!{command.page_no}")
#set($_link = "/chart/chartsong/$!{chartCate}?")

## 상단 네비게이션 탭
#printChartNaviTab($chartType $genreCd $dateKey $date $pageNo)
<div class="wrap_cate">
	#if($StringUtils.equals("list","$chartCate"))
    	## 상단 시간 카테고리
    	#printChartDateCategory($chartType $genreCd $dateKey $date $pageNo)
	#else
    	## 상단 장르 카테고리
    	#printChartGenreCategory($chartType $genreCd $dateKey $date $pageNo)
	#end

	## 상단 우측 날짜 & 시간 정보
	#printChartDateInfo($chartType $genreCd $dateKey $dateView $pageNo $_link)
</div>

<div class="wrap_tbl_music">

	## 리스트 상단 버튼 set
	<div class="wrap_tool_btn">
		<div class="page_chart f_r #if($StringUtils.equals("$pageNo", "2"))page_51#end CT_ZONE_RANK">
    		#printChartRankTab($chartType $genreCd $dateKey $date $pageNo $_link)
    	</div>
    	<div class="tool_btn f_l">
    	##	#printListButton("song", "controlBtn" "" "")
			#printListButton("song", "listen" "" "" "")
    	</div>
    </div>

	## 리스트 테이블 시작
	<div class="bg_thead">
		<input id="allCheck" class="all_chk" type="checkbox">
		<label for="allCheck" class="screen_out">전체선택</label>
	</div>
	<table id="trackContainer" class="tbl_music"> ## 앨범재킷이미지 jacket_type1(ie6만 gif), jacket_type2(모두 gif)
		<caption class="screen_out">인기차트 - 실시간 종합 순위</caption>
		#printListHeader( "chart" )
		<tbody>
		#if($StringUtils.equals("list","$chartCate"))
		    #printRecommandSonginChart("chart" $recommandSong)
		#end
		#if(!$CollectionUtils.isEmpty($chartSongList))
			#printListItems( "chart" $chartSongList "" false)
		#else
			<tr class="no_listinfo">
				<td colspan="11">
					<p class="fc_txt">저장된 곡이 없습니다.</p>
				</td>
			</tr>
		#end
		</tbody>
	</table>

	## 리스트 테이블 끝

	## 리스트 하단 버튼 set
	<div class="wrap_tool_btn">
    	<div class="page_chart f_r #if($StringUtils.equals("$pageNo", "2"))page_51#end"> ## 51~100위 클래스 page_51 추가
    		#printChartRankTab($chartType $genreCd $dateKey $date $pageNo $_link)
    	</div>
    	<div class="tool_btn f_l">
    	##	#printListButton("song", "controlBtn" "" "")
			#printListButtonFoot("song", "listen" "" "" "")
    	</div>
    </div>
	#printSNSListTwo( $chartSongList  $recommandSong )

	<script type="text/javascript">
	var controller = new daum.Music.ListPrototype();
	controller.initialize({pageType:'chart', colNum:11, rowIndex:2, isDuplicate:false});
	#if(!$CollectionUtils.isEmpty($chartSongList))
       	domReady( function(){
		#if( $StringUtils.isNotBlank("$!{command.info_type}") )
			#if( $StringUtils.isNotBlank("$!{command.song_id}") )
    		    #if( $StringUtils.isNotBlank("$!{command.vclip_id}") )
    		        controller.viewVideo(daum.$$('#recommand' + $!{command.song_id} + " .col_video .video_song")[0], $!{command.vclip_id}, {colNum:11, container:'trackContainer', pageType:'chart', count:0}); return false;
    		    #else
    		        controller.viewLyrics(daum.$$('#recommand' + $!{command.song_id} + " .col_lyrics .lyrics_song")[0], $!{command.song_id},'Y', {container:'trackContainer', checkboxName:'trackCheckbox' , tag:'tr' , count : 0});return false;
			    #end
    	    #else
			    if(!!daum.$$(".btn_hot")[0])daum.Music.Chart.clickHotIssue(daum.$$(".btn_hot")[0], '$chartSongList[0].songId', 'first');return false;
		    #end
		#else
		    #if( $StringUtils.isNotBlank("$!{command.song_id}") )
        		#if( $StringUtils.isNotBlank("$!{command.vclip_id}") )
    	        	controller.viewVideo(daum.$$('#track' + $!{command.song_id} + " .col_video .video_song")[0], $!{command.vclip_id}, {colNum:11, container:'trackContainer', pageType:'chart'}); return false;
    	    	#else
    		        controller.viewLyrics(daum.$$('#track' + $!{command.song_id} + " .col_lyrics .lyrics_song")[0], $!{command.song_id},'Y', {container:'trackContainer', checkboxName:'trackCheckbox' , tag:'tr'});return false;
			    #end
    	    #else
		    	if(!!daum.$$(".btn_hot")[0])daum.Music.Chart.clickHotIssue(daum.$$(".btn_hot")[0], '$chartSongList[0].songId', 'first');return false;
		    #end
        #end
	    });
	#end
	//new daum.Music.CheckBoxDrag("trackContainer");
	//var checkboxDrag = daum.Music.selectByDrag().init("#trackContainer .track", "col_check");
	</script>
</div>
<!--THIS DOCUMENT IS GENERATED BY HTTP WRITER, WWW.DAUM.NET-->

<script type="text/javascript">//<![CDATA[
//var ct_pid = "music_chartsong_list"; 
//]]></script>


#if( $StringUtils.equals("$!{command.debugmode}","2") )
<div id="FTMessage">
---------------------<br/>
#set( $URI = "#getter('URI', '')" )
$URI FT #getter('BI_DOMAIN', '')체크<br/>
---------------------<br/>
개발 체크<br/>
---------------------<br/>
- 가사 등록한 user 정보가 없는 게 많아요. 원래 그래요?<br/>
- <STRIKE>핫이슈공감이 있는 곡 넣어주세요.</STRIKE><br/>
- <STRIKE>가사바로보기 > 아티스트 데이터가 없어요.</STRIKE><br/>
</div>
차트 날짜 타입 key<br/>
date_key=1 ->월간 $CheckDate.getDiffMonth("201101", -1)<br/>
date_key=2 ->주간 $CheckDate.getDiffDate("20110301", -7)<br/>
date_key=3 ->일간 $CheckDate.getDiffDate("20110301", -1)<br/>
date_key=4 ->실시간 $CheckDate.getDiffHour("2011030100", -1)<br/>
chart_type=mobile -> 주간에만 모바일 메뉴가 존재<br/>
최종날짜 여부 - $maxDateYn <br/>
#set($weekMap = $CheckDate.getWeekNum("20110201"))
현재년도 : -  $weekMap.get("year"))<br/>
현재월 : -  $weekMap.get("month"))<br/>
현재주 : -  $weekMap.get("weekNum"))<br/>


날짜 : $command.date<br/>
장르코드 : $command.genre_cd<br/>
주간날짜 예시: <br/>
#foreach($dateInfo in $CheckDate.getWeekInfo("201103"))
	$dateInfo.weekNum주  : $dateInfo.startDate~$dateInfo.endDate <br/>
#end
각 링크는 아직 정해지지 않았습니다.
<br/>
#foreach($song in $chartSongList)
	순위 : $song.rank<br/>
	변동순위 : $song.modRank<br/>
	곡제목 : $song.title<br/>
	곡아이디 : $song.songId<br/>
	가사유무 : $song.lyricsYn<br/>
	뮤직비디오유무 : $song.vclipLinkId<br/>
	티비팟아이디 : $song.tvpotVId<br/>
	앨범이미지 : $song.album.mainImage.filePath<br/>
	썸네일 : $ImageUtil.getImageUrl("$!{song.album.mainImage.filePath}", $ImageUtil.ALBUM_45_45)<br/>
	앨범제목 : $song.album.title<br/>
	앨범아이디 :  $song.album.albumId<br/>
	듣기아이디(널이면 비활성화) : $song.AODLinkId<br/>
	MP3아이디 (널이면 비활성화) : $song.MP3LinkId<br/>
	BGM아이디(널이면 비활성화) : $song.BGMLinkId<br/>
	벨소리 서비스 여부 : $song.bellSalesStatus<br/>
	통화연결음 서비스 여부 : $song.ringSalesStatus<br/>
	19금 여부 : $song.adultYn
	아티스트 :<br/>
	#foreach($artist in $song.keyArtistList)
		아티스트명 : $artist.name<br/>
		아티스트아이디 : $artist.artistId<br/>
	#end
	피쳐링아티스트 :<br/>
	#foreach($artist in $song.featArtist)
		아티스트명 : $artist.name<br/>
		아티스트아이디 : $artist.artistId<br/>
	#end
	이슈제목 : $song.hotIssue.title<br/>
	이슈내용 : $song.hotIssue.contents<br/>
	이슈 더보기(앵커는 issueId 로 걸면 될듯?) : http://music.daum.net/chart/issuesong.do?issue_id=$song.hotIssue.issueId

	<br/>
#end

#end