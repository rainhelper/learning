
#if(($!{lyricCount}) && $!{lyricCount} > 0)
<div class="section_lyrics" id="lyricsSection">
	<div class="wrap_title">
		<h3 class="tit_search tit_lyrics">가사</h3>
		<span class="txt_bar"> | </span>
		<span class="txt_quantity">총 <strong class="fc_blue ls_0">${lyricCount}</strong> 건</span>
	</div>
	
	<ul id="searchLyricsList" class="list_lyrics">
		##printSearchLyricsList($lyricsList) -> 매크로 수정할것
		#if(!$CollectionUtils.isEmpty($lyricsList))
    		#foreach($lyric in $lyricsList)
    		<li #if($foreach.index == 0)class="fst"#end>
    			#if($StringUtils.isNotBlank("$!{lyric.song_name}"))
    			<div class="txt_tit">
    				#if($StringUtils.equals("$lyric.listen_yn", "Y")) #set ( $_listenAble = true ) #else #set ( $_listenAble = false ) #end
            		#if($_listenAble)<a class="ico_comm ico_listen" title="#stripHTML($!{lyric.song_name})" #if($_listenAble)onclick="daum.Music.AodPlayer.add(this,$!{lyric.song_id});return false;"#end href="javascript:;">#else<span class="ico_comm ico_nolisten ">#end
    				${HtmlTool.cutHighlightedKoreanString("$!{lyric.song_name}", 45, "..")}
            		#if($_listenAble)</a>#else</span>#end
    			</div>
    			#end
    			#if($StringUtils.isNotBlank("$!{lyric.lyrics}"))
    			<div class="txt_lyrics">
    				<a title="가사" href="/album/main?album_id=$!{lyric.album_id}&song_id=$!{lyric.song_id}">${HtmlTool.cutHighlightedKoreanString("$!{lyric.lyrics}", 300, "..")}</a>
    			</div>
    			#end
    			<div class="txt_info">
    				#set($chkL = "off")
    				#if($StringUtils.isNotBlank("$!{lyric.getArtist().getName()}"))
    					#if($StringUtils.isNotBlank("$!{lyric.getArtist().getArtistId()}") && !$StringUtils.equals("$!{lyric.getArtist().getArtistId()}","0"))
    					<a title="#stripHTML($!{lyric.getArtist().getName()})" href="/artist/main?artist_id=$!{lyric.getArtist().getArtistId()}" onclick="daum.Music.artistDetail($!{lyric.getArtist().getArtistId()});return false;" >$!{lyric.getArtist().getName()}</a>#else<span>$!{lyric.getArtist().getName()}</span>
    					#end
    					#set($chkL = "on")
    				#else
    					<span>V.A</span>
    					#set($chkL = "on")
    				#end
    				#if($StringUtils.isNotBlank("$!{lyric.album_volume}") || $StringUtils.isNotBlank("$!{lyric.album_name}"))
    					#if($StringUtils.equals($!{chkL},"on")) <span class="txt_bar"> | </span> #end
    					<a title="#stripHTML($!{lyric.album_name})" href="/album/main?album_id=$!{lyric.album_id}" onclick="daum.Music.albumDetail($!{lyric.album_id}, $!{lyric.artist_id});return false;">#if($StringUtils.isNotBlank("$!{lyric.album_volume}"))$!{lyric.album_volume}집 #end$!{lyric.album_name}</a>
    					#set($chkL = "on")
    				#end
    				#if($StringUtils.isNotBlank("$!{lyric.release_date}"))
    					#if($StringUtils.isNotBlank("$!{lyric.release_date}") && !$StringUtils.equals("$!{lyric.release_dttm}", "00000000"))
    					#if($StringUtils.equals($!{chkL},"on")) <span class="txt_bar"> | </span> #end
    					발매 : $!{CheckDate.makeReleaseDate($!{lyric.release_date})}
    					#end
    				#end
    			</div>
    		</li>
    		#end
    	#end
	</ul>
	
	#if($!{lyricCount} > 4)
	<div class="wrap_folding">
		<a href="#lyricSection" id="btnLyricListFold" class="btn_fold">접기</a>
		<a href="javascript:;" id="btnLyricListUnFold" class="btn_unfold">펼치기</a>
		<a href="/search/lyrics/list?query=$!{query}" class="link_more">가사 더보기</a>
	</div>
	
	<script type="text/javascript">
		var lyricsExtendView = new daum.Music.ExtendView({
			"btnUnFoldId" : "btnLyricListUnFold",
    		"btnFoldId" : "btnLyricListFold",
    		"containerId" : "searchLyricsList",
			"jsonUrl" : "/search/lyrics/list_for_unfolding.json",
			"query" : "$!{command.encodedQuery}",
			"type" : "lyrics",
			"totalCount" : "$!{lyricCount}",
			"defaultNum" : 4
		});
	</script>
	#else 
	<div class="wrap_more">
		<a href="/search/lyrics/list?query=$!{query}" class="link_more">가사 더보기</a>
	</div>
	#end
</div>
#end


#if( $StringUtils.equals("$!{command.debugmode}","2") )
<!-- 가사 -->
	#if(($!{lyricCount}) && $!{lyricCount} > 0)
		<div class="collTitle"><h3>가사 <span class="num">($!{dto.lyricResult.getStartNum()}-$!{dto.lyricResult.getEndNum(5)} / 총  ${lyricCount}건)</span></h3></div>
		<div class="collWid collTot uccDl">
		#foreach($lyric in $lyricsList)		
			#*
			제목 : $!{lyric.songName}(${lyric.songId})<br/>
			가사 써머리 : $!{lyric.lyrics}<br/>
			$!{lyric.artistName}($!{lyric.artistId})|$!{lyric.albumVolumn}집 - $!{lyric.albumName} | $!{lyric.releaseDate}
			*#		
			<dl #if($foreach.index == 0)class="fst"#end>
		        <dt>
					<a href="/song/song.do?songId=$!{lyric.song_id}" class="btnListenTit fl" title="#getStrongText($!{lyric.song_name}) 곡 상세정보 바로가기" onclick="return gLink(null, 'LCTY', '1', '1');">$!{lyric.song_name}</a>
					#if($StringUtils.equals("$lyric.listen_yn", "Y")) #set ( $_listenAble = true ) #else #set ( $_listenAble = false ) #end
					<input class="fl typeBtn btSetMini btMiniListen#if(!$_listenAble)_dis#end" type="button" #if($_listenAble)onclick="listenSong('$!{lyric.song_id}', true);return gLink(null, 'LCTY', '2', '1');"#else disabled="true"#end title="#getStrongText($!{lyric.song_name}) 곡 듣기" value="#getStrongText($!{lyric.song_name}) 곡 듣기"/>
				</dt>
				<dd>
					#if($StringUtils.isNotEmpty("$!{lyric.lyrics}"))<span class="cb desc">$!{lyric.lyrics}</span> #end
					<span class="cb etc">
						#set($chkL = "off")
						#if($StringUtils.isNotEmpty("$!{lyric.artist_name}"))
							#if($StringUtils.isNotEmpty("$!{lyric.artist_id}") && !$StringUtils.equals("$!{lyric.artist_id}","0"))<a href="/artist/artist.do?artistId=$!{lyric.artist_id}" class="g_tit" onclick="return gLink(null, 'LCTY', '3', '1');">$!{lyric.artist_name}</a>#else $!{lyric.artist_name}#end
							#set($chkL = "on")
						#end
						#if($StringUtils.isNotEmpty("$!{lyric.album_volume}") || $StringUtils.isNotEmpty("$!{lyric.album_name}"))
							#if($StringUtils.equals($!{chkL},"on")) <span class="vline"> | </span> #end
							<a href="/album/album.do?albumId=$!{lyric.album_id}" class="g_tit" onclick="return gLink(null, 'LCTY', '4', '1');">#if($!{lyric.album_volume})$!{lyric.album_volume} #end$!{lyric.album_name}</a>
							#set($chkL = "on")
						#end
						#if($StringUtils.isNotEmpty("$!{lyric.release_date}"))
							#if($StringUtils.equals($!{chkL},"on")) <span class="vline"> | </span> #end
							발매 : $ConverterUtil.formatByStar(${lyric.release_date}, "****.**.**")
						#end
					</span>								
				</dd>
			</dl>
		#end				
		</div>
		#if($!{lyricCount} > 4)
			<div class="moreArea"><a href="/search/lyric.do?query=$!{command.encodedQuery}" onclick="return gExtraLink(this, 'LCTY', '1')">가사  더보기</a></div>
		#else
			<div class="nmoreArea"></div>
		#end
		#if($dto.lyricResult.isDrawingEndLine)
		<div id="line"></div><hr/>
		#end
	#end
#end